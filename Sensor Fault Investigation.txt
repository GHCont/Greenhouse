The first SHT31 sensor stopped functioning after 2 weeks, this was installed as a singular sensor and it had built-in pullup resistors. There was no multimeter or oscilloscope available to determine the potential source of the break so it was put down as a fault with the sensor. The replacement for this sensor was a system of 5 SHT31 sensors, wired in parallel which were all unreadable after 45 minutes. In the following week, a system of 7 DS18B20 thermocouples were introduced, these stopped all useful function after 10 minutes.

The time to break tbk was not consistent across the 3 sensor systems introduced, however there is a good explanation for this. After the 3rd sensor system break, a multimeter was sourced. Before installing any more sensors, a number of diagnostic tests were performed.

Test 1: A wire was connected to each of the following pins: GND, 3V3, GPIO 2 (SDA), GPIO 3 (SCL) and GPIO 4. These wires were approximately 750mm long, ran through the metal enclosure and into the greenhouse. A still functioning SHT31 I2C sensor was connected to the required pins (GND, 3V3, GPIO 2, GPIO 3) and with the PMI in the off position (all 20A mains relays unpowered), the multimeter was used to record voltage between the 3V3 and GND. There were no significant voltage spikes, in addition the internal pull-up resistors were sufficient to pull the SDA and SCL lines to ‘high’.

Test 2: The SHT31 sensor from Test 1 was installed as before and each relay was switched on independently, from the lowest max current draw to the highest (0.21A: Inline Fan [81], Faran HR-15 Hydrofogger + Water flow switch, 2kW Fan Heater). When turning on each relay, the voltage between the 3V3 and GND pins was monitored. For the inline fan, no changes above 1mV were recorded across the pins detailed. For the Hydrofogger, some minimal 1-3mV changes were present, but no 

Sensors broken after unspecific amount of time, (SHT31 individual sensor broken after 2 weeks, system of 5 SHT31 sensors broken after 45 minutes, 6/7 DS18B20 sensors unreadable after 10 minutes, remaining sensor lost after 1 minute more), (working theories around electrical field generated by switches esp for heater-high power draw, inductive effect in sensor wires causing overload to sensors), RPi stay powered when PMI switched to off (solution was to have separate power to internet switch and poe, not safety risk as this part will not need as regular maintenance), shielded cable was used for control box section to sensor breadboard, as of now the i2c sensors are stable, the ds18b20 sensor cuts out regularly and code allows for the controlling sensor to be switched to the i2c when needed. Multimeter used, possibly not enough current, voltage on DS18B20 fluctuates during switching of relays by approximately (300mV), voltage also regularly switches between 2 consistent values across ground and gpio pin, (around 1.1V and 1.4V). Things of note: the mains earth(house) is not entirely stable, there is some fluctuation of maximum 250mV between the RPi ground and the earth, this may have an effect on the shielding as it is grounded to the earth. There is a discrepancy between the readings of the 2 temperature sensors but this is to be expected as they are in different locations, different accuracies, different response times and different consequential moisture exposures. After 1 day of operation, the DS18B20 no longer produces any useable data. The reason for this is not known however quality of sensor manufacture may be of importance as the prefabricated and relatively cheap systems purchased have not had good reliability.
